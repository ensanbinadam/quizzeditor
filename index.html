<!DOCTYPE html>
<html dir="rtl" lang="ar">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ุงูุงุฎุชุจุงุฑ ุงูุชูุงุนูู - ูุณุฎุฉ ุงููุนูู</title>

    <!-- ุฎุท -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;700&display=swap"
      rel="stylesheet"
    />

    <!-- DOMPurify ูุญูุงูุฉ HTML ุงูููุญููู -->
    <script
      src="https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.min.js"
      defer
    ></script>

    <!-- ููุชุจุฉ ูุญูุธ ุงูุดูุงุฏุฉ ูุตูุฑุฉ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <button
      class="config-btn"
      onclick="toggleConfigPanel()"
      aria-label="ููุญุฉ ุงูุชุญูู"
    >
      โ๏ธ
    </button>
    <div class="container">
      <div class="header header-grid">
        <!-- ูููู: ุดุนุงุฑ -->
        <div class="header-logo">
          <img
            id="quizLogo"
            alt="ุดุนุงุฑ"
            style="display: none; max-width: 100%; height: auto"
          />
        </div>

        <!-- ูุณุงุฑ: ุนููุงู ูุชูุฌููุงุช -->
        <div class="header-main">
          <h1 id="quizTitle">ุงูุงุฎุชุจุงุฑ ุงูุชูุงุนูู</h1>
          <p id="instructions">ุงุฎุชุฑ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ููู ุณุคุงู</p>
        </div>
      </div>

      <div class="buttons-container" id="teacherButtons">
        <button class="action-btn" id="loadButton">ุชุญููู ุงูุฃุณุฆูุฉ</button>
        <button
          class="action-btn settings-btn"
          id="settingsBtn"
          onclick="toggleSettingsPanel()"
        >
          ุฅุนุฏุงุฏุงุช ุงูุนุฑุถ
        </button>
        <button class="action-btn" id="editButton" onclick="toggleEditMode()">
          ุชุญุฑูุฑ ุงูุณุคุงู
        </button>
        <button class="action-btn" id="saveQuestionsButton">ุญูุธ ุงูุฃุณุฆูุฉ</button>
        <button class="action-btn" id="saveAppButton">ูุณุฎุฉ ุงูุทุงูุจ</button>
        <button
          class="action-btn"
          id="resetProgressBtn"
          onclick="resetProgress()"
        >
          ุชุตููุฑ ุงูุชูุฏู
        </button>
        <button
          class="action-btn"
          id="resetQuestionsBtn"
          onclick="resetQuestions()"
        >
          ุชุตููุฑ ุงูุฃุณุฆูุฉ
        </button>
      </div>

      <!-- ููุญุฉ Edit Question (ุฃุถูู ุญุฐู ููุตู ูููุณุงุฆุท) -->
      <div
        class="settings-panel"
        id="editPanel"
        style="display: none; text-align: right"
      >
        <div class="settings-title">ุชุญุฑูุฑ ุงูุณุคุงู</div>

        <div class="settings-option">
          <label for="editQuestionType">ููุน ุงูุณุคุงู:</label>
          <select id="editQuestionType" class="form-control">
            <option value="multiple-choice">ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ</option>
            <option value="fill-in-the-blank">ุงููุฃ ุงููุฑุงุบ</option>
            <option value="true-false">ุตุญ / ุฎุทุฃ</option>
            <option value="short-answer">ุฅุฌุงุจุฉ ูุตูุฑุฉ</option>
            <option value="matching">ูุทุงุจูุฉ</option>
            <option value="ordering">ุชุฑุชูุจ</option>
            <option value="connecting-lines">ุชูุตูู</option>
          </select>
        </div>

        <div class="settings-option">
          <label for="editReadingText">ุงููุต ุงููุฑุงุฆู:</label>
          <div class="rich-text-editor-container">
            <div class="rte-toolbar" data-target="editReadingText">
              <button type="button" class="rte-btn" data-command="bold">
                B
              </button>
              <button type="button" class="rte-btn" data-command="italic">
                I
              </button>
              <button type="button" class="rte-btn" data-command="underline">
                U
              </button>
              <button
                type="button"
                class="rte-btn remove-format"
                data-command="removeFormat"
              >
                Tฬถ
              </button>
              <button
                type="button"
                class="rte-btn"
                data-command="justifyRight"
                title="ูุญุงุฐุงุฉ ูููููู"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <line x1="21" y1="10" x2="7" y2="10"></line>
                  <line x1="21" y1="6" x2="3" y2="6"></line>
                  <line x1="21" y1="14" x2="3" y2="14"></line>
                  <line x1="21" y1="18" x2="7" y2="18"></line>
                </svg>
              </button>
              <button
                type="button"
                class="rte-btn"
                data-command="justifyCenter"
                title="ุชูุณูุท"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <line x1="18" y1="10" x2="6" y2="10"></line>
                  <line x1="21" y1="6" x2="3" y2="6"></line>
                  <line x1="21" y1="14" x2="3" y2="14"></line>
                  <line x1="18" y1="18" x2="6" y2="18"></line>
                </svg>
              </button>
              <button
                type="button"
                class="rte-btn"
                data-command="justifyLeft"
                title="ูุญุงุฐุงุฉ ูููุณุงุฑ"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <line x1="17" y1="10" x2="3" y2="10"></line>
                  <line x1="21" y1="6" x2="3" y2="6"></line>
                  <line x1="17" y1="14" x2="3" y2="14"></line>
                  <line x1="21" y1="18" x2="3" y2="18"></line>
                </svg>
              </button>
              <input
                type="color"
                class="rte-btn"
                data-command="foreColor"
                title="ููู ุงูุฎุท"
              />
              <select class="rte-btn" data-command="fontSize" title="ุญุฌู ุงูุฎุท">
                <option value="">ุญุฌู ุงูุฎุท</option>
                <option value="1">ุตุบูุฑ ุฌุฏุงู</option>
                <option value="2">ุตุบูุฑ</option>
                <option value="3">ุนุงุฏู</option>
                <option value="4">ูุชูุณุท</option>
                <option value="5">ูุจูุฑ</option>
                <option value="6">ูุจูุฑ ุฌุฏุงู</option>
                <option value="7">ุถุฎู</option>
              </select>
              <select
                class="rte-btn"
                data-command="insertSymbol"
                title="ุฅุฏุฑุงุฌ ุฑูุฒ"
              >
                <option value="">ุฑูุฒ</option>
                <option value=">">&gt;</option>
                <option value="<">&lt;</option>
                <option value="โฅ">โฅ</option>
                <option value="โค">โค</option>
                <option value="โ">โ</option>
                <option value="โ">โ</option>
                <option value="ยฐ">ยฐ</option>
                <option value="ยฑ">ยฑ</option>
                <option value="โฏ">โฏ</option>
                <option value="โ">โ</option>
                <option value="+">+</option>
                <option value="-">-</option>
                <option value="ร">ร</option>
                <option value="รท">รท</option>
              </select>
            </div>
            <div
              id="editReadingText"
              class="rte-content"
              contenteditable="true"
            ></div>
          </div>

          <div class="inline-tools">
            <div>
              <label for="editReadingImage">ุตูุฑุฉ ุงููุต ุงููุฑุงุฆู:</label>
              <input type="file" id="editReadingImage" accept="image/*" />
              <button
                type="button"
                class="tiny-btn paste"
                id="readingImagePasteBtn"
              >
                ูุตู
              </button>
              <button
                type="button"
                class="tiny-btn del"
                id="readingImageClearBtn"
              >
                ุญุฐู
              </button>
              <img id="readingImagePreview" class="preview-img" />
            </div>

            <div>
              <label for="editReadingAudio">ุงูุตูุช ุงููุฑุงุฆู:</label>
              <div class="inline-tools">
                <button
                  type="button"
                  class="nav-btn"
                  style="padding: 6px 12px"
                  onclick="document.getElementById('editReadingAudio').click()"
                >
                  ุฅุฏุฑุงุฌ ุตูุช
                </button>
                <input
                  type="file"
                  id="editReadingAudio"
                  accept="audio/*"
                  style="display: none"
                />
                <button
                  type="button"
                  class="tiny-btn del"
                  id="readingAudioClearBtn"
                >
                  ุญุฐู ุงูุตูุช
                </button>
              </div>
              <audio
                id="readingAudioPreview"
                class="preview-audio"
                controls
                preload="none"
              ></audio>
            </div>
          </div>
        </div>

        <div class="settings-option">
          <label for="editQuestionText">ูุต ุงูุณุคุงู:</label>
          <div class="rich-text-editor-container">
            <div class="rte-toolbar" data-target="editQuestionText">
              <button type="button" class="rte-btn" data-command="bold">
                B
              </button>
              <button type="button" class="rte-btn" data-command="italic">
                I
              </button>
              <button type="button" class="rte-btn" data-command="underline">
                U
              </button>
              <button
                type="button"
                class="rte-btn remove-format"
                data-command="removeFormat"
              >
                Tฬถ
              </button>
              <button
                type="button"
                class="rte-btn"
                data-command="justifyRight"
                title="ูุญุงุฐุงุฉ ูููููู"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <line x1="21" y1="10" x2="7" y2="10"></line>
                  <line x1="21" y1="6" x2="3" y2="6"></line>
                  <line x1="21" y1="14" x2="3" y2="14"></line>
                  <line x1="21" y1="18" x2="7" y2="18"></line>
                </svg>
              </button>
              <button
                type="button"
                class="rte-btn"
                data-command="justifyCenter"
                title="ุชูุณูุท"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <line x1="18" y1="10" x2="6" y2="10"></line>
                  <line x1="21" y1="6" x2="3" y2="6"></line>
                  <line x1="21" y1="14" x2="3" y2="14"></line>
                  <line x1="18" y1="18" x2="6" y2="18"></line>
                </svg>
              </button>
              <button
                type="button"
                class="rte-btn"
                data-command="justifyLeft"
                title="ูุญุงุฐุงุฉ ูููุณุงุฑ"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <line x1="17" y1="10" x2="3" y2="10"></line>
                  <line x1="21" y1="6" x2="3" y2="6"></line>
                  <line x1="17" y1="14" x2="3" y2="14"></line>
                  <line x1="21" y1="18" x2="3" y2="18"></line>
                </svg>
              </button>
              <input
                type="color"
                class="rte-btn"
                data-command="foreColor"
                title="ููู ุงูุฎุท"
              />
              <select class="rte-btn" data-command="fontSize" title="ุญุฌู ุงูุฎุท">
                <option value="">ุญุฌู ุงูุฎุท</option>
                <option value="1">ุตุบูุฑ ุฌุฏุงู</option>
                <option value="2">ุตุบูุฑ</option>
                <option value="3">ุนุงุฏู</option>
                <option value="4">ูุชูุณุท</option>
                <option value="5">ูุจูุฑ</option>
                <option value="6">ูุจูุฑ ุฌุฏุงู</option>
                <option value="7">ุถุฎู</option>
              </select>
              <select
                class="rte-btn"
                data-command="insertSymbol"
                title="ุฅุฏุฑุงุฌ ุฑูุฒ"
              >
                <option value="">ุฑูุฒ</option>
                <option value=">">&gt;</option>
                <option value="<">&lt;</option>
                <option value="โฅ">โฅ</option>
                <option value="โค">โค</option>
                <option value="โ">โ</option>
                <option value="โ">โ</option>
                <option value="ยฐ">ยฐ</option>
                <option value="ยฑ">ยฑ</option>
                <option value="โฏ">โฏ</option>
                <option value="โ">โ</option>
                <option value="+">+</option>
                <option value="-">-</option>
                <option value="ร">ร</option>
                <option value="รท">รท</option>
              </select>
            </div>
            <div
              id="editQuestionText"
              class="rte-content"
              contenteditable="true"
            ></div>
          </div>
          <div class="inline-tools">
            <label for="editQuestionImage">ุตูุฑุฉ ุงูุณุคุงู:</label>
            <input type="file" id="editQuestionImage" accept="image/*" />
            <button
              type="button"
              class="tiny-btn paste"
              id="questionImagePasteBtn"
            >
              ูุตู
            </button>
            <button
              type="button"
              class="tiny-btn del"
              id="questionImageClearBtn"
            >
              ุญุฐู
            </button>
          </div>
          <img id="questionImagePreview" class="preview-img" />
        </div>

        <div id="multipleChoiceEditor">
          <div class="settings-option">
            <div class="dynamic-editor-header">
              <label>ุงูุฎูุงุฑุงุช (ูุฌุจ ุชุญุฏูุฏ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ):</label>
              <button type="button" class="nav-btn" id="addMcOptionBtn">
                + ุฅุถุงูุฉ ุฎูุงุฑ
              </button>
            </div>
            <div
              id="multipleChoiceOptionsContainer"
              class="dynamic-items-container"
            ></div>
          </div>
        </div>

        <div id="fillInTheBlankEditor" style="display: none">
          <div class="settings-option">
            <label for="editCorrectAnswer">ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:</label>
            <input
              type="text"
              id="editCorrectAnswer"
              class="form-control"
              placeholder="ุงูุชุจ ุงูุฅุฌุงุจุฉ ููุง..."
            />
            <p style="font-size: 0.9em; color: #555; margin-top: 8px">
              ููุงุญุธุฉ: ููููู ูุถุน ุนุฏุฉ ุฅุฌุงุจุงุช ุตุญูุญุฉ ุจูุตููุง ุจุนูุงูุฉ | (ูุซุงู:
              ุฅุฌุงุจุฉ1|ุฅุฌุงุจุฉ2)
            </p>
          </div>
        </div>

        <div id="trueFalseEditor" style="display: none">
          <div class="settings-option">
            <label>ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:</label>
            <div
              style="
                display: flex;
                gap: 20px;
                align-items: center;
                margin-top: 10px;
              "
            >
              <label
                style="
                  display: flex;
                  align-items: center;
                  gap: 8px;
                  cursor: pointer;
                "
              >
                <input type="radio" name="correctTFAnswer" value="true" />
                <span>ุตุญ</span>
              </label>
              <label
                style="
                  display: flex;
                  align-items: center;
                  gap: 8px;
                  cursor: pointer;
                "
              >
                <input type="radio" name="correctTFAnswer" value="false" />
                <span>ุฎุทุฃ</span>
              </label>
            </div>
          </div>
        </div>

        <div id="shortAnswerEditor" style="display: none">
          <div class="settings-option">
            <label for="editShortAnswer">ุงูุฅุฌุงุจุงุช ุงููููุฐุฌูุฉ ุงููุญุชููุฉ:</label>
            <textarea
              id="editShortAnswer"
              class="form-control"
              rows="4"
              placeholder="ุงูุชุจ ุงูุฅุฌุงุจุงุช ุงููููุฐุฌูุฉ ููุง..."
            ></textarea>
            <p style="font-size: 0.9em; color: #555; margin-top: 8px">
              ุงูุตู ุจูู ูู ุฅุฌุงุจุฉ ุจุนูุงูุฉ |. ุณูุชู ุงุนุชุจุงุฑ ุฅุฌุงุจุฉ ุงูุทุงูุจ ุตุญูุญุฉ ุฅุฐุง
              ุชุทุงุจูุช ุจูุณุจุฉ 70% ูุน ุฃู ูู ูุฐู ุงูุฅุฌุงุจุงุช.
            </p>
          </div>
        </div>

        <div id="matchingEditor" style="display: none">
          <div class="settings-option">
            <div class="dynamic-editor-header">
              <label>ุฃุฒูุงุฌ ุงููุทุงุจูุฉ:</label>
              <button type="button" class="nav-btn" id="addMatchPairBtn">
                + ุฅุถุงูุฉ ุฒูุฌ
              </button>
            </div>
            <div id="matchingPairsContainer" class="dynamic-items-container">
              <!-- ุงูุฃุฒูุงุฌ ุณุชุถุงู ููุง ุจูุงุณุทุฉ JavaScript -->
            </div>
            <p style="font-size: 0.9em; color: #555; margin-top: 8px">
              ุงุณุญุจ ูุฃููุช ูุฅุนุงุฏุฉ ุงูุชุฑุชูุจ. ูุฌุจ ููุก ุฒูุฌูู ุนูู ุงูุฃูู.
            </p>
          </div>
        </div>

        <div id="connectingLinesEditor" style="display: none">
          <div class="settings-option">
            <div class="dynamic-editor-header">
              <label>ุฃุฒูุงุฌ ุงูุชูุตูู:</label>
              <button type="button" class="nav-btn" id="addConnectPairBtn">
                + ุฅุถุงูุฉ ุฒูุฌ
              </button>
            </div>
            <div
              id="connectingPairsContainer"
              class="dynamic-items-container"
            ></div>
            <p style="font-size: 0.9em; color: #555; margin-top: 8px">
              ุงุณุญุจ ูุฃููุช ูุฅุนุงุฏุฉ ุงูุชุฑุชูุจ. ูุฌุจ ููุก ุฒูุฌูู ุนูู ุงูุฃูู.
            </p>
          </div>
        </div>

        <div id="orderingEditor" style="display: none">
          <div class="settings-option">
            <div class="dynamic-editor-header">
              <label>ุนูุงุตุฑ ุงูุชุฑุชูุจ (ุจุงูุชุฑุชูุจ ุงูุตุญูุญ):</label>
              <button type="button" class="nav-btn" id="addOrderItemBtn">
                + ุฅุถุงูุฉ ุนูุตุฑ
              </button>
            </div>
            <div id="orderingItemsContainer" class="dynamic-items-container">
              <!-- ุงูุนูุงุตุฑ ุณุชุถุงู ููุง ุจูุงุณุทุฉ JavaScript -->
            </div>
            <p style="font-size: 0.9em; color: #555; margin-top: 8px">
              ุงุณุญุจ ูุฃููุช ูุฅุนุงุฏุฉ ุงูุชุฑุชูุจ. ูุฌุจ ููุก ุนูุตุฑูู ุนูู ุงูุฃูู.
            </p>
          </div>
        </div>

        <div class="settings-option">
          <label for="editFeedback">ุงูุชุบุฐูุฉ ุงูุฑุงุฌุนุฉ (ุงุฎุชูุงุฑู):</label>
          <div class="rich-text-editor-container">
            <div class="rte-toolbar" data-target="editFeedback">
              <button type="button" class="rte-btn" data-command="bold">
                B
              </button>
              <button type="button" class="rte-btn" data-command="italic">
                I
              </button>
              <button type="button" class="rte-btn" data-command="underline">
                U
              </button>
              <button
                type="button"
                class="rte-btn remove-format"
                data-command="removeFormat"
              >
                Tฬถ
              </button>
              <button
                type="button"
                class="rte-btn"
                data-command="justifyRight"
                title="ูุญุงุฐุงุฉ ูููููู"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <line x1="21" y1="10" x2="7" y2="10"></line>
                  <line x1="21" y1="6" x2="3" y2="6"></line>
                  <line x1="21" y1="14" x2="3" y2="14"></line>
                  <line x1="21" y1="18" x2="7" y2="18"></line>
                </svg>
              </button>
              <button
                type="button"
                class="rte-btn"
                data-command="justifyCenter"
                title="ุชูุณูุท"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <line x1="18" y1="10" x2="6" y2="10"></line>
                  <line x1="21" y1="6" x2="3" y2="6"></line>
                  <line x1="21" y1="14" x2="3" y2="14"></line>
                  <line x1="18" y1="18" x2="6" y2="18"></line>
                </svg>
              </button>
              <button
                type="button"
                class="rte-btn"
                data-command="justifyLeft"
                title="ูุญุงุฐุงุฉ ูููุณุงุฑ"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <line x1="17" y1="10" x2="3" y2="10"></line>
                  <line x1="21" y1="6" x2="3" y2="6"></line>
                  <line x1="17" y1="14" x2="3" y2="14"></line>
                  <line x1="21" y1="18" x2="3" y2="18"></line>
                </svg>
              </button>
              <input
                type="color"
                class="rte-btn"
                data-command="foreColor"
                title="ููู ุงูุฎุท"
              />
              <select class="rte-btn" data-command="fontSize" title="ุญุฌู ุงูุฎุท">
                <option value="">ุญุฌู ุงูุฎุท</option>
                <option value="1">ุตุบูุฑ ุฌุฏุงู</option>
                <option value="2">ุตุบูุฑ</option>
                <option value="3">ุนุงุฏู</option>
                <option value="4">ูุชูุณุท</option>
                <option value="5">ูุจูุฑ</option>
                <option value="6">ูุจูุฑ ุฌุฏุงู</option>
                <option value="7">ุถุฎู</option>
              </select>
              <select
                class="rte-btn"
                data-command="insertSymbol"
                title="ุฅุฏุฑุงุฌ ุฑูุฒ"
              >
                <option value="">ุฑูุฒ</option>
                <option value=">">&gt;</option>
                <option value="<">&lt;</option>
                <option value="โฅ">โฅ</option>
                <option value="โค">โค</option>
                <option value="โ">โ</option>
                <option value="โ">โ</option>
                <option value="ยฐ">ยฐ</option>
                <option value="ยฑ">ยฑ</option>
                <option value="โฏ">โฏ</option>
                <option value="โ">โ</option>
                <option value="+">+</option>
                <option value="-">-</option>
                <option value="ร">ร</option>
                <option value="รท">รท</option>
              </select>
            </div>
            <div
              id="editFeedback"
              class="rte-content"
              contenteditable="true"
            ></div>
          </div>
          <p style="font-size: 0.9em; color: #555; margin-top: 8px">
            ุฅุฐุง ุชุฑูุช ูุฐุง ุงูุญูู ูุงุฑุบูุงุ ููู ุชุธูุฑ ุฃู ุชุบุฐูุฉ ุฑุงุฌุนุฉ ููุทุงูุจ ุจุนุฏ
            ุฅุฌุงุจุชู.
          </p>
        </div>

        <div
          class="settings-option"
          style="
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
          "
        >
          <label>ููุงุญุธุฉ:</label>
          <p style="font-size: 0.9em; color: #555; margin: 0">
            ุนูุฏ ุญูุธ ุงูุณุคุงูุ ุณูุชู ูุชุญ ูููุฐุฌ ูุณุคุงู ุฌุฏูุฏ ูุงุฑุบ ุชููุงุฆูุงู ูุชุณููู
            ุงูุฅุถุงูุฉ ุงููุชุณูุณูุฉ. ูุฅุบูุงู ุงููุญุฑุฑุ ุงุถุบุท ุนูู ุฒุฑ "ุฅูุบุงุก".
          </p>
        </div>

        <div
          class="settings-footer"
          style="
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
          "
        >
          <button
            class="nav-btn"
            onclick="saveEdit()"
            style="background: #28a745"
          >
            ุญูุธ
          </button>
          <button
            class="nav-btn"
            onclick="addNewQuestion()"
            style="background: #007bff"
          >
            ุฅุถุงูุฉ ุณุคุงู
          </button>
          <button
            class="nav-btn"
            onclick="duplicateCurrentQuestion()"
            style="background: #17a2b8"
          >
            ูุณุฎ ุงูุณุคุงู
          </button>
          <button
            class="nav-btn"
            onclick="deleteCurrentQuestion()"
            style="background: #dc3545"
          >
            ุญุฐู ุงูุณุคุงู
          </button>
          <button class="nav-btn" onclick="cancelEdit()">ุฅูุบุงุก</button>
        </div>
      </div>

      <div class="settings-panel" id="settingsPanel" style="text-align: right">
        <div class="settings-title">ุฅุนุฏุงุฏุงุช ุงูุนุฑุถ</div>
        <div class="settings-option">
          <label for="numeralType">ุดูู ุงูุฃุฑูุงู:</label>
          <select id="numeralType" onchange="changeNumeralType()">
            <option value="arabic">ุฃุฑูุงู ุนุฑุจูุฉ ุบุฑุจูุฉ (1, 2, 3)</option>
            <option value="eastern" selected>
              ุฃุฑูุงู ุนุฑุจูุฉ ุดุฑููุฉ (ูก, ูข, ูฃ)
            </option>
          </select>
        </div>

        <div class="settings-option">
          <button
            onclick="cleanEasternNumerals()"
            style="
              margin-top: 8px;
              background-color: #dc3545;
              color: white;
              padding: 6px 10px;
              border: none;
              border-radius: 6px;
              cursor: pointer;
            "
          >
            ุชุญููู ุงูุฃุฑูุงู ุงูุดุฑููุฉ ูู ุงูุฃุณุฆูุฉ
          </button>
        </div>

        <div class="settings-option">
          <label for="questionTime">ููุช ุงูุณุคุงู (ุจุงูุซูุงูู):</label>
          <input
            id="questionTime"
            type="number"
            min="5"
            max="180"
            value="30"
            onchange="changeQuestionTime()"
          />
        </div>

        <div class="settings-option">
          <label for="optionsLayout">ุงูุงุฎุชูุงุฑุงุช:</label>
          <select id="optionsLayout" onchange="changeOptionsLayout()">
            <option value="2x2" selected>ุดุจูุฉ ูขรูข (ุงูุชุฑุงุถู)</option>
            <option value="4x1">ุตู ูุงุญุฏ ูครูก</option>
          </select>
        </div>

        <div class="settings-footer">
          <button class="nav-btn" onclick="toggleSettingsPanel()">
            ุญูุธ ูุฅุบูุงู
          </button>
        </div>
      </div>

      <div class="counters" id="countersBox">
        <div id="questionCounter" aria-live="polite"></div>
        <div id="timer" aria-live="polite"></div>
        <div id="scoreCounter" aria-live="polite"></div>
      </div>

      <div class="reading-text" id="readingText" style="display: none"></div>

      <div class="quiz-box">
        <div class="question" id="question"></div>
        <div class="options" id="options"></div>
        <div class="controls">
          <button
            class="nav-btn"
            id="prevBtn"
            onclick="previousQuestion()"
            disabled
          >
            ุงูุณุงุจู
          </button>
          <button
            class="nav-btn pause-btn"
            id="pauseBtn"
            onclick="togglePause()"
          >
            ุฅููุงู ูุคูุช
          </button>
          <button
            class="nav-btn"
            id="nextBtn"
            onclick="nextQuestion()"
            disabled
          >
            ุงูุชุงูู
          </button>
        </div>
        <div class="progress-bar">
          <div class="progress" id="progress"></div>
        </div>
      </div>
    </div>

    <div class="score-board" id="scoreBoard">
      <h2>
        ูุชูุฌุชู ุงูููุงุฆูุฉ: <span id="finalScore">ู</span>/<span
          id="totalQuestions"
          >ู</span
        >
      </h2>

      <!-- ุฑุณุงูุฉ ุนุฏู ุงูุงุณุชุญูุงู -->
      <div
        class="no-certificate-message"
        id="noCertificateMsg"
        style="display: none"
      >
        <p>
          ููุญุตูู ุนูู ุดูุงุฏุฉ ุงูุฅูุฌุงุฒุ ูุฌุจ ุชุญููู 80% ุนูู ุงูุฃูู ูู ุงูุฏุฑุฌุฉ ุงููููุฉ
        </p>
        <p>ุญุงูู ูุฑุฉ ุฃุฎุฑู ูููุตูู ุฅูู ูุฐุง ุงููุณุชูู!</p>
      </div>

      <div class="certificate-buttons">
        <button
          class="certificate-btn"
          id="certificateBtn"
          onclick="openCertificateForm()"
          style="display: none"
        >
          ๐ ุงูุญุตูู ุนูู ุดูุงุฏุฉ ุงูุฅูุฌุงุฒ
        </button>

        <button class="restart-btn" onclick="restartQuiz()">
          ุฅุนุงุฏุฉ ุงููุญุงููุฉ
        </button>
      </div>
    </div>

    <div class="config-panel" id="configPanel" style="text-align: right">
      <h3>ููุญุฉ ุงูุชุญูู</h3>
      <label for="titleInput">ุนููุงู ุงูุงุฎุชุจุงุฑ:</label>
      <input class="form-control" id="titleInput" type="text" />
      <label for="instructionsInput" class="form-group">ุงูุชุนูููุงุช:</label>
      <textarea class="form-control" id="instructionsInput" rows="4"></textarea>
      <div class="form-group">
        <label for="footerInput">ูุต ุงูุชุฐููู:</label>
        <textarea class="form-control" id="footerInput" rows="3">
ุฅุนุฏุงุฏ ูุชุตููู / ููุชูู ูุนููู ููุนููุงุช ุงูููุงุฏ ุงูุฃุฎุฑู ู ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ</textarea
        >
      </div>
      <div class="form-group">
        <label for="logoInput">ุดุนุงุฑ ุงูุชุฑููุณุฉ:</label>
        <input type="file" id="logoInput" accept="image/*" />
        <div class="inline-tools" style="margin-top: 6px">
          <button type="button" class="tiny-btn del" id="logoClearBtn">
            ุญุฐู ุงูุดุนุงุฑ
          </button>
        </div>
        <img id="logoPreview" class="preview-img" alt="ูุนุงููุฉ ุงูุดุนุงุฑ" />
        <label for="logoAltInput" style="margin-top: 8px; display: block"
          >ูุต ุจุฏูู ููุดุนุงุฑ (Alt):</label
        >
        <input
          class="form-control"
          id="logoAltInput"
          type="text"
          placeholder="ูุซุงู: ุดุนุงุฑ ุงููุฏุฑุณุฉ"
        />
      </div>
      <div class="form-group" style="display: flex; gap: 8px; flex-wrap: wrap">
        <button class="nav-btn" onclick="saveConfig()">ุญูุธ ุงูุชุบููุฑุงุช</button>
        <button class="nav-btn" onclick="toggleConfigPanel()">ุฅูุบุงุก</button>
      </div>
    </div>
    <!-- ุชุฐููู ุงููุนูู (ุฏููุงูููู ูู ููุญุฉ ุงูุชุญูู) -->
    <footer id="teacherFooter"></footer>

    <!-- ุงูุชุฐููู ุงูุนุงู ุงูุซุงุจุช -->
    <footer id="quizFooter">
      <a
        href="https://t.me/Interact2030"
        target="_blank"
        rel="noopener noreferrer"
        class="footer-link-wrap"
      >
        ุจุฑูุฌุฉ ู ุชุตููู/ ููุชูู ุงูุชุนููู ุงูุชูุงุนูู ุจููุชูู ูุนููู ููุนููุงุช ุงูุฑูุงุถูุงุช ู
        ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ
      </a>
    </footer>

    <!-- ูููุฐุฌ ุฅุฏุฎุงู ุจูุงูุงุช ุงูุดูุงุฏุฉ -->
    <div
      class="config-panel"
      id="certificateForm"
      style="text-align: right; display: none"
    >
      <h3>ุจูุงูุงุช ุงูุดูุงุฏุฉ</h3>

      <div class="form-group">
        <label for="studentNameInput">ุงุณู ุงูุทุงูุจ:</label>
        <input
          class="form-control"
          id="studentNameInput"
          type="text"
          placeholder="ุฃุฏุฎู ุงุณู ุงูุทุงูุจ"
        />
      </div>

      <div class="form-group">
        <label for="teacherNameInput">ุงุณู ุงููุนูู:</label>
        <input
          class="form-control"
          id="teacherNameInput"
          type="text"
          placeholder="ุฃุฏุฎู ุงุณู ุงููุนูู"
          value="ูุนูู ุงููุงุฏุฉ"
        />
      </div>

      <div class="form-group" style="display: flex; gap: 8px; flex-wrap: wrap">
        <button
          class="nav-btn"
          onclick="generateCertificate()"
          style="background: #28a745"
        >
          ุฅูุดุงุก ุงูุดูุงุฏุฉ
        </button>
        <button class="nav-btn" onclick="closeCertificateForm()">ุฅูุบุงุก</button>
      </div>
    </div>

    <!-- ุนุฑุถ ุงูุดูุงุฏุฉ -->
    <div class="certificate-container" id="certificateContainer">
      <div class="certificate-header">
        <img id="certificateLogo" alt="ุดุนุงุฑ" class="certificate-logo" />
        <h2 class="certificate-quiz-title" id="certificateQuizTitle">
          ุนููุงู ุงูุงุฎุชุจุงุฑ
        </h2>
      </div>

      <h1 class="certificate-title">ุดูุงุฏุฉ ุฅูุฌุงุฒ</h1>

      <div class="certificate-body">
        <div class="student-name" id="certificateStudentName">ุงุณู ุงูุทุงูุจ</div>

        <div class="achievement-text">
          ุชูุงูููุง! ููุฏ ุฃุชููุช ุงูุงุฎุชุจุงุฑ ุงูุชูุงุนูู ุจูุฌุงุญ
        </div>

        <div class="score-text" id="certificateScoreText">
          ุญููุช ูุชูุฌุฉ 20 ูู 25
        </div>

        <div class="achievement-text">
          ูุธูุฑ ุฌููุฏู ุงููุชููุฒุฉ ูุฅุตุฑุงุฑู ุนูู ุงูุชุนูููุ ููุฏู ูู ูุฐู ุงูุดูุงุฏุฉ ุชูุฏูุฑูุง
          ูุฅูุฌุงุฒู ุงูุจุงุฑุน
        </div>

        <div class="teacher-name" id="certificateTeacherName">
          ุงููุนูู: ุงุณู ุงููุนูู
        </div>
      </div>

      <div class="certificate-footer">
        <p>ุดูุงุฏุฉ ูุนุชูุฏุฉ ูู ูุธุงู ุงูุงุฎุชุจุงุฑุงุช ุงูุชูุงุนููุฉ</p>
      </div>

      <div class="certificate-buttons">
        <button class="certificate-btn print" onclick="printCertificate()">
          ๐จ๏ธ ุทุจุงุนุฉ ุงูุดูุงุฏุฉ
        </button>
        <button class="certificate-btn" onclick="downloadCertificate()">
          ๐ฅ ุญูุธ ูุตูุฑุฉ
        </button>
        <button class="certificate-btn close" onclick="closeCertificate()">
          โ ุฅุบูุงู
        </button>
      </div>
    </div>

    <script src="js/app.js" defer></script>
  </body>
</html>
